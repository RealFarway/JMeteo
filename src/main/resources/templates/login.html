<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Login Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <style>
        .toast-error {
            background-color: #f8d7da;
            color: #842029;
        }

        .toast-info {
            background-color: #cce5ff;
            color: #004085;
        }
    </style>
</head>
<body>
<!-- TOAST CONTAINER -->
<div class="position-fixed bottom-0 start-50 translate-middle-x p-3" style="z-index: 5" id="toastPlacement">
    <!--ERROR MESSAGE-->
    <div th:if="${param.error}" class="toast toast-error" role="alert" aria-live="assertive" aria-atomic="true"
         data-delay="2000" data-autohide="false" style="max-width: 90vw;">
        <div class="toast-body">
            Invalid username or password.
        </div>
    </div>

    <!--LOGOUT MESSAGE-->
    <div th:if="${param.logout}" class="toast toast-info" role="alert" aria-live="assertive" aria-atomic="true"
         data-delay="2000" data-autohide="false" style="max-width: 90vw;">
        <div class="toast-body">
            You have been logged out.
        </div>
    </div>
</div>
<!--FORM CONTAINER-->
<div class="container d-flex align-items-center justify-content-center min-vh-100">
    <form th:action="@{/login}" method="post">
        <!--USERNAME FIELD-->
        <div class="form-group mt-3">
            <label class="control-label" for="username">
                Username
            </label>
            <input id="username" name="username" class="form-control" autofocus="autofocus" required/>
        </div>
        <!--PASSWORD FIELD-->
        <div class="form-group mt-3">
            <label class="control-label" for="password">
                Password
            </label>
            <input id="password" name="password" class="form-control" type="password" required/>
        </div>
        <!--BUTTONS AND LINK-->
        <div class="form-group mt-3">
            <button type="submit" class="btn btn-primary">Login</button>
            <span>Not registered yet? <a href="/" th:href="@{/registration}">Register here!</a></span>
        </div>
    </form>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
<script>
$(document).ready(function(){
    $('.toast').toast('show');
    $('.toast').click(function(){
        $(this).toast('hide');
    });
});

</script>
</body>
</html>